<html>
    <head>
        <title>English Intake Form</title>
        <!--<script type="text/javascript" src = "scripts/signature.js"></script>-->
    </head>
    <body onload="init()">
        <h1>English Patient Intake Form</h1>
        <p>
            <fieldset>
                <legend> Personal Information:</legend>
                <form>
                    First Name: <br>
                    <input type = "text" name = "firstname"><br>
                    Last Name: <br>
                    <input type = "text" name = "lastname"><br>
                    Email: <br>
                    <input type = "text" name = "Email"><br>
                    Phone Number: <br>
                    <input type = "text" name = "Phone"><br>
                    Date of Birth: <br>
                    <input type = "text" name = "DOB"><br>
                    Age: <br>
                    <input type = "text" name = "age"><br>
                    Height: <br>
                    <input type = "text" name = "height"><br>
                    Weight: <br>
                    <input type = "text" name = "weight"><br>
                    Sex: <br>
                    <input type = "radio" name = "gender" value = "male"> Male<br>
                    <input type = "radio" name = "gender" value = "female"> Female<br>
                    Do you currently have insurance? <br>
                    <input type = "text" name = "insurancestatus"><br>

                </form>
            </fieldset>

            <fieldset>
                <legend>Occupation Status:</legend>
                <form>
                    Check your current occupational status<br>
                    Full Time<input type = "checkbox" Name = "fulltime" value = "fulltime">
                    Part-Time<input type = "checkbox" Name = "parttime" value = "parttime">
                    Student<input type = "checkbox" Name = "student" value = "student">
                    Retired<input type = "checkbox" Name = "retired" value = "retired">
                    Not employed<input type = "checkbox" Name = "notemployed" value = "notemployed"><br>
                    Occupation:<br>
                    <input type = "text" name = "occupation"><br>
                    Occupation Requirements:(check all that apply)<br>
                    Repetitive Motions<input type = "checkbox" Name = "repetitivemotion" value = "repetitivemotion"> 
                    Walking<input type = "checkbox" Name = "walking" value = "walking"> 
                    Lifting<input type = "checkbox" Name = "lifting" value = "lifting">
                    Kneeling <input type = "checkbox" Name = "kneeling" value = "kneeling">
                    Sitting<input type = "checkbox" Name = "sitting" value = "sitting"> 
                    Standing<input type = "checkbox" Name = "standing" value = "standing">
                    Carrying<input type = "checkbox" Name = "carrying" value = "carrying">
                    Other<input type = "checkbox" Name = "other" value = "other"><br>
                    If other, please explain:
                    <input type = "text" Name = occupationreq><br>
                </form>
            </fieldset>

             <fieldset>
                <legend> Symptoms/Pain:</legend>
                <form>
                    Why do you seek physical therapy?<br>
                    <input type= "text" name = "reasonforPT"><br>
                    When did your symptoms start? (Month and Year)<br>
                    <input type = "month" name = "startofsxs"><br>
                    Was there an injury?<br>
                    <input type = "radio" name = "injuryyes" value = "injuryyes"> Yes<br>
                    <input type = "radio" name = "injuryno" value = "injuryno"> No<br>
                    Were you referred to physical therapy?<br>
                    <input type = "radio" name = "referredyes" value = "referredyes"> Yes<br>
                    <input type = "radio" name = "referredno" value = "referredno"> No<br>
                    If yes, who referred you to physical therapy?<br>
                    <input type = "text" name = "referralsource"><br>
                    Have you had prior treatement for your current symptoms?<br>
                    <input type = "radio" name = "priortreatment" value = "yes"> Yes<br>
                    <input type = "radio" name = "priortreatment" value = "no"> No<br>
                    If yes, when was your last visit?<br>
                    <input type = "month" name = "lastprovidervisit"><br>
                    Are your symptoms <br>
                    <input type = "checkbox" Name = "sxsworse" value = "sxsworse"> Getting worse
                    <input type = "checkbox" Name = "sxsimproving" value = "sxsimproving"> Getting Better
                    <input type = "checkbox" Name = "sxsSame" value = "sxssame"> Staying the Same<br>
                    Which activities are limited by your symptoms?<br>
                    Standing<input type = "checkbox" Name = "standinglimit" value = "standinglimit"> 
                    Walking<input type = "checkbox" Name = "walkinglimit" value = "walkinglimit"> 
                    Working<input type = "checkbox" Name = "worklimit" value = "worklimit">
                    Sleeping <input type = "checkbox" Name = "sleepinglimit" value = "sleepinglimit">
                    Lifting<input type = "checkbox" Name = "liftinglimit" value = "liftinglimit"> 
                    Sitting<input type = "checkbox" Name = "sittinglimit" value = "sittinglimit">
                    Exercise<input type = "checkbox" Name = "exerciselimit" value = "exerciselimit">
                    Housework<input type = "checkbox" Name = "houseworklimit" value = "houseworklimit">
                    Other<input type = "checkbox" Name = "other" value = "other"><br>
                    If other, please explain:<br>
                    <input type = "text" name = "otheractivitylimit"><br>
                    Does anything improve your symptoms?<br>
                    <input type ="text" name = "sximprovement"><br>
                    Check the box if you have had any recent testing <br>
                    <input type = "checkbox" Name = "MRI" value = "mri"> MRI
                    <input type = "checkbox" Name = "CT" value = "ct"> CT
                    <input type = "checkbox" Name = "XR" value = "xr"> X-ray
                    <input type = "checkbox" Name = "Other" value = "other"> Other<br>
                    If other, please describe: <input type ="text" name = "imagingdescription"><br>
                    What are your primary complaints?<br>
                        <input type = "checkbox" Name = "sxsstiffness" value = "stiffness"> Stiffness<br>
                        <input type = "checkbox" Name = "sxsspasm" value = "spasm"> Muscle Spasm<br>
                        <input type = "checkbox" Name = "sxsinstability" value = "instability"> Instability<br>
                        <input type = "checkbox" Name = "sxsweakness" value = "weakness"> Weakness<br>
                        <input type = "checkbox" Name = "sxsnumbness" value = "Numbness"> Numbness<br>
                        <input type = "checkbox" Name = "sxsSwelling" value = "Swelling"> Swelling<br>
                        <input type = "checkbox" Name = "sxsPain" value = "Pain"> Pain<br>
                        <input type = "checkbox" Name = "sxspoorbalance" value = "Poorbalance"> Poor Balance<br>
                        <input type = "checkbox" Name = "sxsOther" value = "Other"> Other<br>
                        If other, please explain:<input type ="text" name = "sxqualitydescription"><br>

                    Have you ever had surgery?<br>
                    <input type = "radio" name = "priorsurgery" value = "yes"> Yes<br>
                    <input type = "radio" name = "priorsurgery" value = "no"> No<br>
                    If yes, please describe: <input type ="text" name = "surgerydescription"><br>

                </fieldset>

                <fieldset>
                    <legend>Current Complaints:</legend>
                    <form>
                        What is your pain level<br>
                        At Worst: <div class "slidecontainer">
                            <input type = "range" min = "1" max = "10" value = 5 id = "worstpn"><br>
                        At Best: <div class "slidecontainer">
                            <input type = "range" min = "1" max = "10" value = 5 id = "bestpn"><br>
                        Right Now: <div class "slidecontainer">
                            <input type = "range" min = "1" max = "10" value = 5 id = "currentpn"><br>
                        </div>
                        
                        Please mark the location of your sxs:<br>
                        <img src = "BodyChart.jpg" alt = "Body Chart" usemap = "BodyChart">
                        <map name="BodyChart">
           <!-- Figure out how to allow someone to circle or put an X through different parts of picture-->                
                            <area shape="rect" coords="1,2,3,4" alt="Arm" href="BodyChart.jpg">
                            <area shape="rect" coords="1,20,30,40" alt="Leg" href="BodyChart.jpg">
                            <area shape="circle" coords="1,2,15" alt="Coffee" href="BodyChart.jpg">
                          </map><br>

                          Is your pain worse at a certain time of day?
                          Yes <input type = "checkbox" Name = "timeofdayyes" value = "timeofdayyes">
                          No <input type = "checkbox" Name = "timeofdayno" value = "timeofdayno"><br>
                          If yes, 
                          Morning <input type = "checkbox" Name = "worsemorning" value = "worsemorning"> 
                          Night <input type = "checkbox" Name = "worsenight" value = "worsenight">
                          As day progresses <input type = "checkbox" Name = "worseasdayprogresses" value = "worseasdayprogresses"> 
                          Other <input type = "checkbox" Name = "worseother" value = "worseother"><br>
                          If other, explain:
                          <input type = "sxstimeofday" name = "sxstimeofday"><br>
                          What words best describe your pain?<br>
                          <input type = "checkbox" Name = "sxsSharp" value = "Sharp"> Sharp<br>
                          <input type = "checkbox" Name = "sxsThrobbing" value = "Throbbing"> Throbbing<br>
                          <input type = "checkbox" Name = "sxsaching" value = "aching"> Aching<br>
                          <input type = "checkbox" Name = "sxsburning" value = "Burning"> Burning<br>
                          <input type = "checkbox" Name = "sxsDeep" value = "Deep"> Deep<br>
                          <input type = "checkbox" Name = "sxsStinging" value = "Stinging"> Stinging<br>
                          <input type = "checkbox" Name = "sxsConstant" value = "Constant"> Constant<br>
                          <input type = "checkbox" Name = "sxsComeandGo" value = "ComeandGo"> Comes and Goes<br>
                          <input type = "checkbox" Name = "sxsOther" value = "Other"> Other<br>
                          If other, please explain:<input type ="text" name = "pnqualitydescription"><br>
                
                    </form>
                </fieldset>

                <fieldset>
                    <legend>Medical/Surgical History:</legend>
                    <h6>(Check if you have the following conditions)</h6>
                    <form>
                        Cardipulmonary:<br>
                        <input type = "checkbox" Name = "hypertension" value = "hypertension"> High Blood Pressure<br>
                        <input type = "checkbox" Name = "heartdisease" value = "heartdisease"> Heart Disease<br>
                        <input type = "checkbox" Name = "Smoking" value = "Smoking"> Smoking -
                        How many packs/day? 
                        <select>
                            <option value="lessthan1"><1</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6+">6+</option>
                              </select><br>
                         <input type = "checkbox" Name = "strokehx" value = "strokehx"> History of Stroke?<br>
                         <input type = "checkbox" Name = "highcholesterol" value = "highcholesterol"> High Cholesterol<br>
                         <input type = "checkbox" Name = "Anemia" value = "Anemia"> Anemia<br>
                         <input type = "checkbox" Name = "bleedingdisorder" value = "bleedingdisorder"> Bleeding Disorder<br>
                         <input type = "checkbox" Name = "noCVD" value = "noCVD"> None<br>
                        
                         Neuromuscular/Musculoskeletal:<br>
                         <input type = "checkbox" Name = "headaches" value = "headaches"> Severe Headaches<br>
                         <input type = "checkbox" Name = "cervicalspinedisorder" value = "Cervicalspinedisorder"> Cervical Spine Disorder<br>
                         <input type = "checkbox" Name = "lspinedisorder" value = "Lspinedisorder"> Lumbar Spine Disorder<br>
                         <input type = "checkbox" Name = "osteoporosis" value = "osteoporosis"> Osteoporosis<br>
                         <input type = "checkbox" Name = "pregnant" value = "pregnant"> Pregnant - 
                         # of weeks? <input type = "text" name = "weekspregnant"><br>
                         <input type = "checkbox" Name = "fractures" value = "fractures"> Fracture<br>
                         <input type = "checkbox" Name = "nerveinjury" value = "nerveinjury"> Nerve injury<br>
                         
                         Endocrine/Other:<br>
                         <input type = "checkbox" Name = "diabetes" value = "diabetes"> Diabetes<br>
                         <input type = "checkbox" Name = "Alcohol/drugs" value = "alcohol/drugs"> Alcohol or drug abuse<br>
                         <input type = "checkbox" Name = "depression" value = "depression"> Depression<br>
                         <input type = "checkbox" Name = "kidneydisease" value = "kidneydisease"> Kidney Disease<br>
                         <input type = "checkbox" Name = "thyroiddisease" value = "thyroiddisease"> Thyroid Disease<br>
                         <input type = "checkbox" Name = "stomach/bowel" value = "stomach/bowel"> Stomach/Bowel Disease<br>
                         <input type = "checkbox" Name = "mentalhealth" value = "mentalhealth"> Mental Health<br>

                         Medications: (list all)
                         <input type ="text" name = "medications"><br>
                         Medication Allergies:
                         <input type ="text" name = "medicationallergies"><br>
                         What would you like to accomplish with physical therapy?
                         <input type ="text" name = "PTgoals"><br>
                         How do you prefer to get physical therapy information?<br>
                         <input type = "checkbox" Name = "written" value = "Written"> Written<br>
                         <input type = "checkbox" Name = "Verbal" value = "Verbal"> Verbal<br>
                         <input type = "checkbox" Name = "Demonstration" value = "Demonstration"> Demonstration<br>  
                         Additional Comments: 
                         <input type ="text" name = "Comments"><br> 
                                                                   


                    </form>
                <fieldset>
                    <form>
                        <legend>I understand that I have the right to terminate any or all parts of my evaluation at any time and that I am responsible for notifying my evaluator of any and 
                        and all changes in my symptoms as they occur. I acknowledge that all information provided on this evaluation is accurate and completed to the best
                        of my abilities. </legend>
                        <!--Signature box: https://zipso.net/a-simple-touchscreen-sketchpad-using-javascript-and-html5/-->
                        <!--TODO: very jittery, need to smooth out the signature-->
                        <canvas id="sketchpad" height="200" width="500" style="margin: 0px 0px 0px 0px;  border-style: solid; border-width: 1px; border-color: #bbbbbb #dbdfe6 #e3e9ef #e2e3ea; -webkit-border-radius: 1px; -moz-border-radius: 1px; -o-border-radius: 1px; border-radius: 1px; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; background-color: #FFFFFF;">
                        </canvas>
                        <br/>
                        <input type="submit" value="Clear Sketchpad" onclick="clearCanvas(canvas,ctx);">
                    </form>
                </fieldset>
                <input type = "submit", value = "Submit"> 
        </p>

        <script type="text/javascript">
            // Variables for referencing the canvas and 2dcanvas context
            var canvas,ctx;
        
            // Variables to keep track of the mouse position and left-button status 
            var mouseX,mouseY,mouseDown=0;
        
            // Variables to keep track of the touch position
            var touchX,touchY;
        
            // Draws a dot at a specific position on the supplied canvas name
            // Parameters are: A canvas context, the x position, the y position, the size of the dot
            function drawDot(ctx,x,y,size) {
                // Let's use black by setting RGB values to 0, and 255 alpha (completely opaque)
                r=0; g=0; b=0; a=255;
        
                // Select a fill style
                ctx.fillStyle = "rgba("+r+","+g+","+b+","+(a/255)+")";
        
                // Draw a filled circle
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI*2, true); 
                ctx.closePath();
                ctx.fill();
            } 
        
            // Clear the canvas context using the canvas width and height
            function clearCanvas(canvas,ctx) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }
        
            // Keep track of the mouse button being pressed and draw a dot at current location
            function sketchpad_mouseDown() {
                mouseDown=1;
                drawDot(ctx,mouseX,mouseY,12);
            }
        
            // Keep track of the mouse button being released
            function sketchpad_mouseUp() {
                mouseDown=0;
            }
        
            // Keep track of the mouse position and draw a dot if mouse button is currently pressed
            function sketchpad_mouseMove(e) { 
                // Update the mouse co-ordinates when moved
                getMousePos(e);
        
                // Draw a dot if the mouse button is currently being pressed
                if (mouseDown==1) {
                    drawDot(ctx,mouseX,mouseY,12);
                }
            }
        
            // Get the current mouse position relative to the top-left of the canvas
            function getMousePos(e) {
                if (!e)
                    var e = event;
        
                if (e.offsetX) {
                    mouseX = e.offsetX;
                    mouseY = e.offsetY;
                }
                else if (e.layerX) {
                    mouseX = e.layerX;
                    mouseY = e.layerY;
                }
             }
        
            // Draw something when a touch start is detected
            function sketchpad_touchStart() {
                // Update the touch co-ordinates
                getTouchPos();
        
                drawDot(ctx,touchX,touchY,12);
        
                // Prevents an additional mousedown event being triggered
                event.preventDefault();
            }
        
            // Draw something and prevent the default scrolling when touch movement is detected
            function sketchpad_touchMove(e) { 
                // Update the touch co-ordinates
                getTouchPos(e);
        
                // During a touchmove event, unlike a mousemove event, we don't need to check if the touch is engaged, since there will always be contact with the screen by definition.
                drawDot(ctx,touchX,touchY,12); 
        
                // Prevent a scrolling action as a result of this touchmove triggering.
                event.preventDefault();
            }
        
            // Get the touch position relative to the top-left of the canvas
            // When we get the raw values of pageX and pageY below, they take into account the scrolling on the page
            // but not the position relative to our target div. We'll adjust them using "target.offsetLeft" and
            // "target.offsetTop" to get the correct values in relation to the top left of the canvas.
            function getTouchPos(e) {
                if (!e)
                    var e = event;
        
                if(e.touches) {
                    if (e.touches.length == 1) { // Only deal with one finger
                        var touch = e.touches[0]; // Get the information for finger #1
                        touchX=touch.pageX-touch.target.offsetLeft;
                        touchY=touch.pageY-touch.target.offsetTop;
                    }
                }
            }
        
        
            // Set-up the canvas and add our event handlers after the page has loaded
            function init() {
                // Get the specific canvas element from the HTML document
                canvas = document.getElementById('sketchpad');
        
                // If the browser supports the canvas tag, get the 2d drawing context for this canvas
                if (canvas.getContext)
                    ctx = canvas.getContext('2d');
        
                // Check that we have a valid context to draw on/with before adding event handlers
                if (ctx) {
                    // React to mouse events on the canvas, and mouseup on the entire document
                    canvas.addEventListener('mousedown', sketchpad_mouseDown, false);
                    canvas.addEventListener('mousemove', sketchpad_mouseMove, false);
                    window.addEventListener('mouseup', sketchpad_mouseUp, false);
        
                    // React to touch events on the canvas
                    canvas.addEventListener('touchstart', sketchpad_touchStart, false);
                    canvas.addEventListener('touchmove', sketchpad_touchMove, false);
                }
            }
        </script>
        
    </body>
</html>